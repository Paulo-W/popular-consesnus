<div class="join-container">
  <div class="not-member flex-center-left full-container">
    <div class="left full-container flex-center-left">
      <button [disabled]="finished" type="button" class="btn plain-text heading-block" [ngClass]="{
      'isNotMemberBlue': !memberState.isMember,
      'isMemberBlue': memberState.isMember
      }">
        <span *ngIf="!memberState.isMember; else team1" (click)="joinTeam1()" class="full-container flex-center">
          <fa-icon [icon]="faPencil"></fa-icon>
          Join Team
        </span>
        <ng-template #team1>
          <div *ngIf="memberState.team; else opposingTeam" class="my-team">
            <fa-icon [icon]="faUser"></fa-icon>
            My Team
          </div>
        </ng-template>
      </button>
    </div>
    <div class="right full-container flex-center-right">
      <button [disabled]="finished" type="button" class="btn plain-text heading-block" [ngClass]="{
      'isNotMemberRed': !memberState.isMember,
      'isMemberRed': memberState.isMember
      }">
        <span *ngIf="!memberState.isMember; else team2" (click)="joinTeam2()" class="full-container flex-center">
          <fa-icon [icon]="faPencil" class="right-icon"></fa-icon>
          Join Team
        </span>
        <ng-template #team2>
          <div *ngIf="!memberState.team; else opposingTeam" class="my-team">
            <fa-icon [icon]="faUser"></fa-icon>
            My Team
          </div>
        </ng-template>
      </button>
    </div>
  </div>
</div>

<mat-card class="tab-card message-body">
  <mat-tab-group mat-align-tabs="center" animationDuration="1200ms" dynamicHeight>
    <mat-tab label="{{debate.team1.name | titlecase}} ({{debate.team1.members.length}})">
      <app-message-box [team]="debate.team1" [user]="user"></app-message-box>
    </mat-tab>
    <mat-tab label="{{debate.team2.name | titlecase}} ({{debate.team2.members.length}})">
      <app-message-box [team]="debate.team2" [user]="user"></app-message-box>
    </mat-tab>
  </mat-tab-group>
</mat-card>

<ng-template #opposingTeam>
  <div class="full-container flex-center" (click)="switchTeams()">
    <fa-icon class="left-icon" [icon]="faSyncAlt"></fa-icon>
    Switch Teams
  </div>
</ng-template>
